<div class="modal fade modal-load <?=$jatbi->ajax('load')?>" tabindex="-1" data-bs-backdrop="static">
    <div class="modal-dialog modal-lg pt-standalone">
        <div class="modal-content rounded-5 border-0 shadow-lg">
            <div class="d-flex w-100 justify-content-end align-items-center position-relative">
                <button type="button"
                    class="btn btn-eclo position-absolute z-1 rounded-circle d-flex align-items-center justify-content-center width height top right"
                    data-bs-dismiss="modal" aria-label="Close"
                    style="--width:50px;--height:50px;--top:-5px;--right:-5px">
                    <i class="ti ti-x fs-4"></i>
                </button>
            </div>

            <div class="modal-body">
                <h5 class="fw-bold text-body mb-3">
                    <?=$title?>
                </h5>
                <form method="POST" action="<?=$_SERVER['REQUEST_URI']?>">
                    <div  class="row">
                        <div class="col-lg-6">
                            <?=$app->component('select',[
                                    "name"        => 'personnels',
                                    "options"     => $personnels, 
                                    "selected"    => $data['personnels'] ?? '',
                                    "placeholder" => $jatbi->lang("Chọn nhân viên"),
                                    "required"    => 'true',
                                ])?>
                        </div>
                        <div class="col-lg-6">
                            <?php echo $app->component('select', [
                                    'name' => 'furlough_id', 'placeholder' => $jatbi->lang('Loại phép'), 'selected' => $data['furlough_id'] ?? '', 'required' => true,
                                    'options' => $furloughs ?? [], 'disabled' => isset($data['id']) && $data['id'] > 0
                                ]); ?>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <?php echo $app->component('input', [
                                'type' => 'number', 'name' => 'year', 'placeholder' => $jatbi->lang('Năm'), 'value' => $data['year'] ?? date('Y'), 'required' => true, 'disabled' => isset($data['id']) && $data['id'] > 0
                            ]); ?>
                        </div>
                        <div class="col-md-4">
                            <?php echo $app->component('input', [
                                'type' => 'number', 'name' => 'total_accrued', 'placeholder' => $jatbi->lang('Phép được hưởng'), 'value' => $data['total_accrued'] ?? '0', 'attr' => 'step="0.5"'
                            ]); ?>
                        </div>
                        <div class="col-md-4">
                            <?php echo $app->component('input', [
                                'type' => 'number', 'name' => 'carried_over', 'placeholder' => $jatbi->lang('Phép tồn năm trước'), 'value' => $data['carried_over'] ?? '0', 'attr' => 'step="0.5"'
                            ]); ?>
                        </div>
                    </div>

                    <div class="mb-3">
                        <?php echo $app->component('textarea', [
                            'name' => 'notes', 'placeholder' => $jatbi->lang('Ghi chú'), 'value' => $data['notes'] ?? ''
                        ]); ?>
                    </div>

                    <div class="col-lg-12">
                        <button type="submit" class="btn btn-eclo w-100 py-3 rounded-pill fw-bold" data-action="submit"
                            data-alert="true" data-load="this"><?=$jatbi->lang("Hoàn thành")?></button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>